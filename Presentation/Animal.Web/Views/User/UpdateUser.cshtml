@model ViewModel.User
@using Animal.Web.MediaComponents

@using (Html.BeginForm("UpdateUser", "User", FormMethod.Post, new { enctype = "multipart/form-data", onSubmit = "formSubmit(this, event);" }))
{
	@Html.AntiForgeryToken()
	<div>@Html.ValidationMessage("FormValidation")</div>

	@Html.TextInput(m=>m.Id)

	@Html.TextInput(m=>m.Name)

	@Html.EmailInput(m=>m.Email)

	@Html.DateInput(m=>m.DateOfBirth)

	@Html.PasswordInput(m=>m.Password)

	@Html.TextInput(m=>m.roleID)

	@Html.SubmitButton("Submit form")
}


<script>
	function formSubmit(form, event) {
		event.preventDefault();

		$.ajax({
			type: "POST",
			url: '@Url.Action("UpdateUser", "User")',
			data: new FormData(form),
			contentType: false,
			processData: false,
			success: function (data) {
				$("main").html(data);
			},
			error: function (err) {
				console.error(err);
			}
		});
	}
</script>
