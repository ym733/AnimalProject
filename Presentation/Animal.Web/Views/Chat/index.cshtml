@model Tuple<List<Entities.Message>, Entities.User>
@using Animal.Web.MediaComponents;
@using Microsoft.AspNetCore.SignalR;

<style>
    #sidebar {
        left: 0;
        width: 160px;
        transition: left 0.5s ease-in-out;
    }

    #sidebar.hidden {
        left: -160px;
    }
</style>

<div id="sidebar" class="position-absolute hidden">
    
</div>

<button class="border-0 rounded d-flex fw-bold" style="background-color: #f2f2f2; padding: 10px 15px;" onclick="document.querySelector('#sidebar').classList.toggle('hidden');">
    USERS
</button>


<div>
    @Html.SingleStringInput("userMessage")

    <input type="button" id="sendButton" value="send message">
    <input id="userID" value="@Model.Item2.Id" hidden="hidden"/>

    <hr />

    <ul id="messagesList">
        @foreach (var item in Model.Item1)
        {
            <li>@item.senderName: @item.text</li>
        }
    </ul>
</div>

<script src="~/js/dist/browser/signalr.js"></script>
<script src="~/js/chat.js" defer></script>